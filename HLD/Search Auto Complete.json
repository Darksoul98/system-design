{"schema":{"schemaVersion":2,"sequences":{"com.tldraw.store":4,"com.tldraw.asset":1,"com.tldraw.camera":1,"com.tldraw.document":2,"com.tldraw.instance":25,"com.tldraw.instance_page_state":5,"com.tldraw.page":1,"com.tldraw.instance_presence":5,"com.tldraw.pointer":1,"com.tldraw.shape":4,"com.tldraw.asset.bookmark":2,"com.tldraw.asset.image":3,"com.tldraw.asset.video":3,"com.tldraw.shape.arrow":4,"com.tldraw.shape.bookmark":2,"com.tldraw.shape.draw":1,"com.tldraw.shape.embed":4,"com.tldraw.shape.frame":0,"com.tldraw.shape.geo":8,"com.tldraw.shape.group":0,"com.tldraw.shape.highlight":0,"com.tldraw.shape.image":3,"com.tldraw.shape.line":4,"com.tldraw.shape.note":6,"com.tldraw.shape.text":2,"com.tldraw.shape.video":2,"com.tldraw.binding.arrow":0}},"shapes":[{"x":1032.3739102385243,"y":827.7036258773051,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:19dZlEZehHtLt2Ze2jJ_X","type":"text","props":{"color":"black","size":"s","w":357.7833251953125,"text":"Approach 1\nGet top 5 Frequently searched queries\nSELECT * FROM frequency_table\nWHERE query LIKE 'prefix%'\nORDER BY frequency DESC\nLIMIT 5\nNote: works for small dataset","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"a0","typeName":"shape"},{"x":135.58757030165089,"y":822.5999765528283,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:YKVPaMV44QrdyTCouxCZf","type":"text","props":{"color":"black","size":"s","w":212.48333740234375,"text":"Requirements\n- Design top K\n- Prefix match\n- within 100ms\n- relevant suggestions\n- sorted\n- handle high volume\n- highly available","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:fKfUGdgKOKV6oVFVwu9SC","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:QtsRQ-La9-jPliBOHyt8A","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:JljhUr4A4YvA-BmaMSklL","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:Ox5h2_njFhqVOZoQen_mh","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:unx9va0rUmM14BikVXfS6","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:H9_PpEgP2F7lI9xXk5Aoe","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:uDDjBsfHLhgaXIo3dw_IA","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:3XTeu6ccHipCcS77VL4ck","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:NwgZtFTKJmi4hex5vGohU","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:u7aHndcPvX4yUote5-dTv","index":"a1","typeName":"shape"},{"x":0,"y":0,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:uejaXm4jp2yNAjunBBfWm","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"semi","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:O4IKMJmxkZ3am4q9T-YLT","index":"a1","typeName":"shape"},{"x":80.60497296086805,"y":356.57364022828915,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:9PwOixzYjDgMx4UdjhiFt","type":"group","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a1","props":{},"typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:1eD81irVT6Uqu1YAphfF3","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:9PwOixzYjDgMx4UdjhiFt","index":"a1","typeName":"shape"},{"x":-34.61393881828553,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:HrfN8glEHoDScFaXI2g5Z","type":"text","props":{"color":"black","size":"m","w":229.1999969482422,"text":"\nUser\n- Ajax Requests\n- Browser Caching","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:9PwOixzYjDgMx4UdjhiFt","index":"a2","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:qioO_fpJZLDhkNx_CrJPU","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:osb7HwfGzsAlHJJy0sIUd","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:ZCxR7ZotZyIbvfEBrIWn9","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:GNtF_X3PkF5qiwgn56Afk","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:tMCgJQfKjKhAZMWSn7Lww","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:PSX1ghnEd5CP5P3BX9eAr","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:FU8GbtzFhqpgl-jLsYojy","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:2woJZV1qmlW_wg4Iw4-Ny","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Rf7-V2hm3mWciSK-ihuMp","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:9IIJ7qgh23SEaOG6Crm32","index":"a1","typeName":"shape"},{"x":568.5542507291577,"y":400.62322530117694,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:nep0PvZeKgf--DRu72SVo","type":"group","parentId":"shape:3serbTZjOTBkfElPREtFN","index":"a1","props":{},"typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:dBoESE75sAedCu0FGxBKh","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:nep0PvZeKgf--DRu72SVo","index":"a1","typeName":"shape"},{"x":15.186056604077748,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:T-URlli4vZOCccB8UUJHr","type":"text","props":{"color":"black","size":"m","w":129.60000610351562,"text":"\nDatabases","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:nep0PvZeKgf--DRu72SVo","index":"a2","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:tk4G3-sTxqHQ18Y3AuleS","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:TPCqMClY_gSOKuUQF3WUL","index":"a1","typeName":"shape"},{"x":-7.861328125,"y":3.14453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:BIRyNVAsAdUXhKF1NqiLK","type":"geo","props":{"w":168.439453125,"h":182.3666804049476,"geo":"rectangle","color":"black","labelColor":"black","fill":"solid","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":""},"parentId":"shape:DjRAnJ6WBeWjXDd0EoS2x","index":"a1","typeName":"shape"},{"x":492.7385872098588,"y":821.9799380152771,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:2hi-zh0JgMhNrlXxnhUlQ","type":"text","props":{"color":"black","size":"s","w":393.04998779296875,"text":"BOE\n- 10M DAU\n- 10 searches/day/user\n- 1 char = 1byte, 4words, 5 chars each\n- 20 bytes per query, 20 req sent\n- 10M users * 10 Q/day * 20chars = 24QPS\n- Peak = ~48K\n- 20% Q are new => 0.4GB","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"a2","typeName":"shape"},{"x":0.9193940064214985,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:lsSJfHAI5aySqjeGTz-Yo","type":"text","props":{"color":"black","size":"m","w":158.13333129882812,"text":"Aggregated \nData","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:QtsRQ-La9-jPliBOHyt8A","index":"a2","typeName":"shape"},{"x":676.4840414763589,"y":371.2265310506534,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:QtsRQ-La9-jPliBOHyt8A","type":"group","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a2","props":{},"typeName":"shape"},{"x":28.286062707593373,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:7I3M-nLOO_nVpn7jDVlP6","type":"text","props":{"color":"black","size":"m","w":103.39999389648438,"text":"\nWorkers","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:Ox5h2_njFhqVOZoQen_mh","index":"a2","typeName":"shape"},{"x":0.6443924805425922,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:2U4hy5C8aTJEoE6nfpP0J","type":"text","props":{"color":"black","size":"m","w":158.68333435058594,"text":"\nAggregators","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:H9_PpEgP2F7lI9xXk5Aoe","index":"a2","typeName":"shape"},{"x":-59.022271642992564,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:QhX88JF0zNoQN79-gT-K7","type":"text","props":{"color":"black","size":"m","w":278.01666259765625,"text":"\nTrieDB\n- Each node consist of\nall words ending with\nit and frequency","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:3XTeu6ccHipCcS77VL4ck","index":"a2","typeName":"shape"},{"x":15.644392480542592,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:EIRMg4rDcSMXChPV9kTwM","type":"text","props":{"color":"black","size":"m","w":128.68333435058594,"text":"\nTrie Cache","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:u7aHndcPvX4yUote5-dTv","index":"a2","typeName":"shape"},{"x":26.480719079663686,"y":114.04022489133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:LpUcYpeV1gVIHUN3sGJ--","type":"text","props":{"color":"black","size":"m","w":122.73333740234375,"text":"Analytics \nLogs","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:O4IKMJmxkZ3am4q9T-YLT","index":"a2","typeName":"shape"},{"x":383.62619405208864,"y":356.0409446414583,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:osb7HwfGzsAlHJJy0sIUd","type":"group","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a2","props":{},"typeName":"shape"},{"x":24.82772683112853,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:ucVyuQoa_BOZrToZ-O9_C","type":"text","props":{"color":"black","size":"m","w":110.31666564941406,"text":"Load \nBalancer","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:osb7HwfGzsAlHJJy0sIUd","index":"a2","typeName":"shape"},{"x":-20.213937292406627,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:mP6kjYf61VgvV20qswG1_","type":"text","props":{"color":"black","size":"m","w":200.39999389648438,"text":"API\nServers\n- Data Sampling","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:GNtF_X3PkF5qiwgn56Afk","index":"a2","typeName":"shape"},{"x":11.111059655835561,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:1YPyMLWwlOuW0x5XfP9Xd","type":"text","props":{"color":"black","size":"m","w":137.75,"text":"Trie\nCache\nHash Table\nkey-value","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:PSX1ghnEd5CP5P3BX9eAr","index":"a2","typeName":"shape"},{"x":56.55272530524962,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:TIwOzJqhiv-diXDspNCDP","type":"text","props":{"color":"black","size":"m","w":46.866668701171875,"text":"Trie\nDB","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:2woJZV1qmlW_wg4Iw4-Ny","index":"a2","typeName":"shape"},{"x":-16.130609045336314,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:TDN406RMcspajFjsR1WJ4","type":"text","props":{"color":"black","size":"m","w":192.23333740234375,"text":"\nFilters\n- hateful query","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:9IIJ7qgh23SEaOG6Crm32","index":"a2","typeName":"shape"},{"x":36.63344554560035,"y":232.10095426067187,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:TPCqMClY_gSOKuUQF3WUL","type":"group","parentId":"shape:3serbTZjOTBkfElPREtFN","index":"a2","props":{},"typeName":"shape"},{"x":32.64439248054259,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:vezbMforfbUEQkBOIl0IS","type":"text","props":{"color":"black","size":"m","w":94.68333435058594,"text":"API\nServers","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:TPCqMClY_gSOKuUQF3WUL","index":"a2","typeName":"shape"},{"x":22.6693940064215,"y":117.18475614133331,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:7ev2ulri05qAe_unzNM0Q","type":"text","props":{"color":"black","size":"m","w":114.63333129882812,"text":"Shard \nManager","font":"draw","textAlign":"middle","autoSize":true,"scale":1},"parentId":"shape:DjRAnJ6WBeWjXDd0EoS2x","index":"a2","typeName":"shape"},{"x":967.3531821013589,"y":369.6542654256534,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Ox5h2_njFhqVOZoQen_mh","type":"group","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a3","props":{},"typeName":"shape"},{"x":49.30469640124534,"y":19.320566728392123,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:2mBWbtFKyPMDNhuwbIJPs","type":"image","props":{"w":69.97161865234372,"h":89.56367187499997,"assetId":"asset:-1410387624","playing":true,"url":"","crop":null},"parentId":"shape:O4IKMJmxkZ3am4q9T-YLT","index":"a3","typeName":"shape"},{"x":140.79410707752606,"y":435.566537006659,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:4hYeni0fKNwjIaWPj1KyQ","type":"arrow","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a3","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":318.4347678961931,"y":9.708377070006009},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":145.60068245314892,"y":315.99152672588275,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:IsKpwZxSi6O1HxRgJbEHH","type":"arrow","parentId":"shape:3serbTZjOTBkfElPREtFN","index":"a3","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":643.2458188095061,"y":205.44733376425256},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"Retrieve data from shard","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":811.1846854827804,"y":408.7030810152289,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:zLbclD-8XeMxsyo7MPOgS","type":"arrow","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a4","props":{"dash":"draw","size":"m","fill":"semi","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":208.71176476676052,"y":38.28297430862606},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":698.1776111202795,"y":357.9826200554594,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:GNtF_X3PkF5qiwgn56Afk","type":"group","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a4","props":{},"typeName":"shape"},{"x":571.0000523215897,"y":45.98199439859832,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:DjRAnJ6WBeWjXDd0EoS2x","type":"group","parentId":"shape:3serbTZjOTBkfElPREtFN","index":"a4","props":{},"typeName":"shape"},{"x":388.759432101359,"y":366.5097341756534,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:H9_PpEgP2F7lI9xXk5Aoe","type":"group","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a5","props":{},"typeName":"shape"},{"x":540.7792423617685,"y":437.50821242066013,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:AIdFtayZn-v-Jdwf08wgL","type":"arrow","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a5","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":299.0180137561813,"y":15.533403312009796},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":138.2632776758544,"y":311.0999235410193,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:n0vcbrsCZXdG5_H7lWBPN","type":"arrow","parentId":"shape:3serbTZjOTBkfElPREtFN","index":"a5","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":425.5694770830953,"y":-112.50687325185254},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"1. which shard?","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":553.3331229827804,"y":400.8417528902289,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:ogBG0TYeXVoqnwtWTqFTT","type":"arrow","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a6","props":{"dash":"draw","size":"m","fill":"semi","color":"black","labelColor":"black","bend":0,"start":{"x":49.69388724357839,"y":50.899841066523095},"end":{"x":193.388671875,"y":26.728515625},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":1323.397094428658,"y":367.6909971254654,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:PSX1ghnEd5CP5P3BX9eAr","type":"group","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a6","props":{},"typeName":"shape"},{"x":1314.823885226359,"y":368.0819998006534,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:3XTeu6ccHipCcS77VL4ck","type":"group","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a7","props":{},"typeName":"shape"},{"x":1320.6403947668045,"y":92.59634217389112,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:2woJZV1qmlW_wg4Iw4-Ny","type":"group","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a7","props":{},"typeName":"shape"},{"x":1119.3487479827804,"y":408.7030810152289,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:ecjW7Qa36Ev26hIYF3Z_F","type":"arrow","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a8","props":{"dash":"draw","size":"m","fill":"solid","color":"black","labelColor":"black","bend":0,"start":{"x":44.7446684935785,"y":-22.382319451699004},"end":{"x":270.0655822169173,"y":65.4670579875288},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"update weekly","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":1455.3083623563227,"y":423.9164845226519,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:OxuuhAVubo4qQLww2hfD-","type":"arrow","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a8","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":403.8684861122447,"y":15.53340331200934},"arrowheadStart":"arrow","arrowheadEnd":"arrow","text":"Cache Miss","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":1313.251619601359,"y":63.06246855065342,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:u7aHndcPvX4yUote5-dTv","type":"group","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"a9","props":{},"typeName":"shape"},{"x":1008.8456773604673,"y":363.8076462974632,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:9IIJ7qgh23SEaOG6Crm32","type":"group","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"a9","props":{},"typeName":"shape"},{"x":-1103.1060123305244,"y":2098.6041443059576,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:LlUbsUb5qyIVeeo7-5Doz","type":"image","props":{"w":69.97161865234372,"h":89.56367187499997,"assetId":"asset:-1410387624","playing":true,"url":"","crop":null},"parentId":"page:page","index":"aA","typeName":"shape"},{"x":1418.0792167327804,"y":403.9862841402289,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:LBNR06kO0yEa9DFZW_3tw","type":"arrow","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"aA","props":{"dash":"draw","size":"m","fill":"solid","color":"black","labelColor":"black","bend":0,"start":{"x":37.582909421292925,"y":20.697278160424503},"end":{"x":-340.17048456641294,"y":-201.65889597492492},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"Weekly Snapshot","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":841.7389315319509,"y":429.7415107646557,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:dk-Xosoy0JWdHaInbpCYn","type":"arrow","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"aA","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":240.76775133614592,"y":17.47507872601045},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":82.16763522635898,"y":368.0819998006534,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:O4IKMJmxkZ3am4q9T-YLT","type":"group","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"aB","props":{},"typeName":"shape"},{"x":1158.2320240141428,"y":443.3332386626639,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:j3JYem1XZUAe6d4Lx9BF3","type":"arrow","parentId":"shape:3ih1s9byfi122qyTJRan_","index":"aB","props":{"dash":"draw","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":153.39235770609275,"y":-11.65005248400712},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":231.01866985778048,"y":414.9921435152289,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:9AD15bfgHphi_8Rdy9n8z","type":"arrow","parentId":"shape:8ryeeCsl_NNXUVxRk6Yqp","index":"aC","props":{"dash":"draw","size":"m","fill":"semi","color":"black","labelColor":"black","bend":0,"start":{"x":-49.962971344160394,"y":216.76088882221757},"end":{"x":183.81056413199792,"y":50.85890287012246},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":1532.3585170684612,"y":834.5844472025715,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:L4UApyiw95yotcvLrfXTF","type":"text","props":{"color":"black","size":"m","w":949,"text":"Query Service optimization\n-  AJAX request from browsers to control whole page reload\n- Browser Caching, to reduce subsequent requests\n- Data Sampling, eg: only 1 out of every N request are logged by the system","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"aV","typeName":"shape"},{"x":122.58589863372913,"y":1174.7932066002443,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:8ryeeCsl_NNXUVxRk6Yqp","type":"frame","props":{"w":1539.7291865487932,"h":647.1352722274426,"name":"Data Gathering Service"},"parentId":"page:page","index":"aW","typeName":"shape"},{"x":98.43794144449112,"y":1960.7742036383936,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:3ih1s9byfi122qyTJRan_","type":"frame","props":{"w":1568.7885032190577,"h":687.177307012762,"name":"Query Service"},"parentId":"page:page","index":"ag","typeName":"shape"},{"x":1784.7217911981736,"y":1537.463896145775,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:3serbTZjOTBkfElPREtFN","type":"frame","props":{"w":766.9550672563234,"h":612.9601521772977,"name":"Trie DB optimization"},"parentId":"page:page","index":"al","typeName":"shape"},{"x":1438.0914376962517,"y":2132.2637840385933,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Y8fbbmp9Sn9lY24UC8tNK","type":"arrow","parentId":"page:page","index":"am","props":{"dash":"dashed","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":498.21884290272965,"y":-163.05343949543885},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"},{"x":1525.6571737215797,"y":1640.0839574134725,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:WCs3_7kiHNOYBRqfKPcYT","type":"arrow","parentId":"page:page","index":"an","props":{"dash":"dashed","size":"m","fill":"none","color":"black","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":389.5165499057707,"y":286.8532731864202},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw"},"typeName":"shape"}],"rootShapeIds":["shape:19dZlEZehHtLt2Ze2jJ_X","shape:YKVPaMV44QrdyTCouxCZf","shape:2hi-zh0JgMhNrlXxnhUlQ","shape:LlUbsUb5qyIVeeo7-5Doz","shape:L4UApyiw95yotcvLrfXTF","shape:8ryeeCsl_NNXUVxRk6Yqp","shape:3ih1s9byfi122qyTJRan_","shape:3serbTZjOTBkfElPREtFN","shape:Y8fbbmp9Sn9lY24UC8tNK","shape:WCs3_7kiHNOYBRqfKPcYT"],"bindings":[{"meta":{},"id":"binding:_FrKrQHbqdFVwnEOC7Cza","type":"arrow","fromId":"shape:ogBG0TYeXVoqnwtWTqFTT","toId":"shape:fKfUGdgKOKV6oVFVwu9SC","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.3683452508879831,"y":0.5912825574260345},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:KCO-tlnvApUimQr3O0Akb","type":"arrow","fromId":"shape:zLbclD-8XeMxsyo7MPOgS","toId":"shape:fKfUGdgKOKV6oVFVwu9SC","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.4852028311244696,"y":0.43500750357238893},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:zrm-t7kjQUgE_8pmHpZdC","type":"arrow","fromId":"shape:ecjW7Qa36Ev26hIYF3Z_F","toId":"shape:JljhUr4A4YvA-BmaMSklL","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:mnpuoGOJ6bJtFiQg8sL_U","type":"arrow","fromId":"shape:zLbclD-8XeMxsyo7MPOgS","toId":"shape:JljhUr4A4YvA-BmaMSklL","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:K3Qu0HGMZ3rWlHRXWwqci","type":"arrow","fromId":"shape:ogBG0TYeXVoqnwtWTqFTT","toId":"shape:unx9va0rUmM14BikVXfS6","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:306A03nLqfzMIPS9X1c7n","type":"arrow","fromId":"shape:9AD15bfgHphi_8Rdy9n8z","toId":"shape:unx9va0rUmM14BikVXfS6","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:pBzTosIyXyMJOE10p7jda","type":"arrow","fromId":"shape:ecjW7Qa36Ev26hIYF3Z_F","toId":"shape:uDDjBsfHLhgaXIo3dw_IA","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.3588236201615184,"y":0.45240805307144194},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:IaeSTHMHG4T4Do3TOO5HN","type":"arrow","fromId":"shape:LBNR06kO0yEa9DFZW_3tw","toId":"shape:uDDjBsfHLhgaXIo3dw_IA","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:9IKvpk7dtzpTgF8K3Ua6E","type":"arrow","fromId":"shape:WCs3_7kiHNOYBRqfKPcYT","toId":"shape:uDDjBsfHLhgaXIo3dw_IA","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.5705831751612777,"y":0.5157971815558849},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:fLyqIq2iE1FHFVP6IqsaK","type":"arrow","fromId":"shape:LBNR06kO0yEa9DFZW_3tw","toId":"shape:NwgZtFTKJmi4hex5vGohU","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:kYS_YxyQ6wBZXBmXjApny","type":"arrow","fromId":"shape:9AD15bfgHphi_8Rdy9n8z","toId":"shape:uejaXm4jp2yNAjunBBfWm","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:Gt8cUu8Rv7wWbiISWCAiS","type":"arrow","fromId":"shape:4hYeni0fKNwjIaWPj1KyQ","toId":"shape:1eD81irVT6Uqu1YAphfF3","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.4609311023291583,"y":0.4188323269667247},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:vSoD7SBle35u1ZpFiZbC_","type":"arrow","fromId":"shape:4hYeni0fKNwjIaWPj1KyQ","toId":"shape:qioO_fpJZLDhkNx_CrJPU","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.6338426777924421,"y":0.4614207079075762},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:4VdYGGFKb5RiQZldpRHlQ","type":"arrow","fromId":"shape:AIdFtayZn-v-Jdwf08wgL","toId":"shape:qioO_fpJZLDhkNx_CrJPU","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.46093110232915896,"y":0.4294794222019351},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:nVrqOEubivHn94VxOGCKY","type":"arrow","fromId":"shape:AIdFtayZn-v-Jdwf08wgL","toId":"shape:ZCxR7ZotZyIbvfEBrIWn9","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.8759188834410375,"y":0.4933619936132124},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:wfYzEj2rB_S_Y-3_BltMJ","type":"arrow","fromId":"shape:dk-Xosoy0JWdHaInbpCYn","toId":"shape:ZCxR7ZotZyIbvfEBrIWn9","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.4494036639649391,"y":0.3868910412610835},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:0oD7Yc6sXTjy2BGuJWv_8","type":"arrow","fromId":"shape:j3JYem1XZUAe6d4Lx9BF3","toId":"shape:tMCgJQfKjKhAZMWSn7Lww","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.9335560752621341,"y":0.4188323269667222},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:gsBKIs6uaGaULevZlgo3G","type":"arrow","fromId":"shape:OxuuhAVubo4qQLww2hfD-","toId":"shape:tMCgJQfKjKhAZMWSn7Lww","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.46093110232915896,"y":0.3762439460258681},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:nC8i3fKIiARwfnWEQRBoP","type":"arrow","fromId":"shape:OxuuhAVubo4qQLww2hfD-","toId":"shape:FU8GbtzFhqpgl-jLsYojy","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.2764920885016547,"y":0.4294794222019351},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:IXxuUPx09GDnyxAU-2R6X","type":"arrow","fromId":"shape:Y8fbbmp9Sn9lY24UC8tNK","toId":"shape:FU8GbtzFhqpgl-jLsYojy","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.4144150326447389,"y":0.3383391118781054},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:2VjU6XCt5_XN2apSbz3pA","type":"arrow","fromId":"shape:dk-Xosoy0JWdHaInbpCYn","toId":"shape:Rf7-V2hm3mWciSK-ihuMp","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.5531506092429084,"y":0.4294794222019351},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:DIQMaAnPn1THVsP56YYM3","type":"arrow","fromId":"shape:j3JYem1XZUAe6d4Lx9BF3","toId":"shape:Rf7-V2hm3mWciSK-ihuMp","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.5300957325144714,"y":0.4614207079075762},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:ZdJfd14htq6GbEdFmvMQQ","type":"arrow","fromId":"shape:IsKpwZxSi6O1HxRgJbEHH","toId":"shape:dBoESE75sAedCu0FGxBKh","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:zV5jS7A-K1mvD_-5y0OA6","type":"arrow","fromId":"shape:n0vcbrsCZXdG5_H7lWBPN","toId":"shape:tk4G3-sTxqHQ18Y3AuleS","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.6500327460336726,"y":0.4159446114932379},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:gn0TDiRFsvU8cub3I1rQV","type":"arrow","fromId":"shape:IsKpwZxSi6O1HxRgJbEHH","toId":"shape:tk4G3-sTxqHQ18Y3AuleS","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.6935938277230652,"y":0.4427675112356777},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:jLAAtTDktQwIQckeGm6GG","type":"arrow","fromId":"shape:Y8fbbmp9Sn9lY24UC8tNK","toId":"shape:tk4G3-sTxqHQ18Y3AuleS","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:78Pi_iNUvXhZ28ADLTwWd","type":"arrow","fromId":"shape:WCs3_7kiHNOYBRqfKPcYT","toId":"shape:tk4G3-sTxqHQ18Y3AuleS","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.4386808311703246,"y":0.5147919642477784},"terminal":"end"},"typeName":"binding"},{"meta":{},"id":"binding:jghaAZq3et42fZ-7ydt0N","type":"arrow","fromId":"shape:n0vcbrsCZXdG5_H7lWBPN","toId":"shape:BIRyNVAsAdUXhKF1NqiLK","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.6430162210807746,"y":0.5379529362582157},"terminal":"end"},"typeName":"binding"}],"assets":[{"meta":{},"id":"asset:-1410387624","type":"image","typeName":"asset","props":{"name":"tldrawFile","src":"https://assets.tldraw.xyz/uploads/7eZLx6GCe68gj3c26GZu4-tldrawFile","w":400,"h":512,"mimeType":"image/webp","isAnimated":false}}]}